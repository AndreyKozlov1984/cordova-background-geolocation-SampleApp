<ion-header>
  <ion-navbar color="gold" mode="ios">
  	<ion-buttons start>
  		<!-- <button ion-button (click)="onClickSettings()" style="font-size:2.3rem"><ion-icon name="arrow-dropup-circle"></ion-icon></button>-->
  	</ion-buttons>
    <ion-title mode="ios">
      BG Geo
    </ion-title>
    <ion-buttons end>
    	<ion-toggle [(ngModel)]="state.enabled" (ionChange)="onToggleEnabled()" color="secondary"></ion-toggle>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
	<ion-fab top left edge #fab>
   		<button ion-fab color="gold" (click)="onClickFab()">
        <ion-icon color="dark" name="arrow-dropdown-circle"></ion-icon>
      </button>
   		<ion-fab-list side="bottom">
     		<button ion-fab (click)="onClickSettings()" color="gold">
     			<ion-icon name="cog"></ion-icon>
     		</button>
     		<button ion-fab (click)="onClickResetOdometer()" color="gold">
     			<ion-spinner [hidden]="!isResettingOdometer" name="circles" color="dark"></ion-spinner>
     			<ion-icon [hidden]="isResettingOdometer" name="speedometer"></ion-icon>
     		</button>
     		<button ion-fab (click)="onClickEmailLogs()" color="gold">
     			<ion-icon name="mail"></ion-icon>
     		</button>
        <button ion-fab (click)="onClickSync()" color="gold">
          <ion-spinner [hidden]="!isSyncing" name="circles" color="dark"></ion-spinner>
          <ion-icon [hidden]="isSyncing" name="cloud-upload"></ion-icon>
        </button>
        <button ion-fab (click)="onClickDestroyLocations()" color="gold">
          <ion-spinner [hidden]="!isDestroyingLocation" name="circles" color="dark"></ion-spinner>
          <ion-icon [hidden]="isDestroyingLocations" name="trash"></ion-icon>
        </button>
   		</ion-fab-list>
 	</ion-fab>

	<div #map id="map"></div>
</ion-content>

<ion-footer>
	<ion-toolbar mode="ios" color="gold">
		<ion-buttons start>
			<button ion-button solid (click)="onClickGetCurrentPosition()" color="gold" style="font-size:2.3rem">
				<ion-icon name="md-navigate" color=""></ion-icon>
			</button>
			<ion-icon [hidden]="!state.provider.gps" name="{{iconMap.provider_gps}}" color="secondary"></ion-icon>
			<ion-icon [hidden]="!state.provider.network"name="{{iconMap.provider_network}}" color="secondary"></ion-icon>
			<ion-icon [hidden]="state.provider.enabled" name="{{iconMap.provider_disabled}}" color="danger"></ion-icon>
		</ion-buttons>
		<ion-title>
			<span class="label" color="">Activity</span>&nbsp;
			<ion-icon color="" name="{{state.activityIcon}}"></ion-icon>
			<span class="odometer" color="">{{this.state.odometer}}km</span>
		</ion-title>
		<ion-buttons end>
			<button ion-button solid [disabled]="!state.enabled" (click)="onClickChangePace()" style="width:40px" color="{{state.isMoving ? 'danger' : 'secondary'}}">
				<ion-spinner [hidden]="!state.isChangingPace" name="dots" color="light"></ion-spinner>
				<ion-icon [hidden]="state.isChangingPace" name="{{state.paceIcon}}"></ion-icon>
			</button>
		</ion-buttons>
	</ion-toolbar>
</ion-footer>

